<!DOCTYPE html>
<html data-ng-app="businessDirectory">
<head>
  <title></title>
</head>
<body data-ng-controller="TestCalendar">
<h4>Click to add a marker!</h4>

<p>{{zoomMessage}}</p>
<ul>
  <li ng-repeat="marker in myMarkers">
    <a class="btn" ng-click="myMap.panTo(marker.getPosition())">
      Pan to Marker {{$index}}
    </a>
  </li>
</ul>

<!-- this is the confusing part. we have to point the map marker directive
  at an existing google.maps.Marker object, so it can hook up events -->
<div ng-repeat="marker in myMarkers" ui-map-marker="myMarkers[$index]"
    ui-event="{'map-click': 'openMarkerInfo(marker)'}">
</div>

<div ui-map-info-window="myInfoWindow">
  <h1>Marker</h1>
  Lat: <input ng-model="currentMarkerLat">, Lng: <input ng-model="currentMarkerLng">
  <a class="btn btn-primary" ng-click="setMarkerPosition(currentMarker, currentMarkerLat, currentMarkerLng)">Set Position</a>
</div>

<!--Giving the div an id="map_canvas" fix problems with twitter bootstrap affecting google maps-->
<div id="map_canvas" ui-map="myMap" class="span8 map"
    ui-event="{'map-click': 'addMarker($event)', 'map-zoom_changed': 'setZoomMessage(myMap.getZoom())' }"
    ui-options="mapOptions">
</div>

<style>
  .map {
    height: 400px;
    width: 600px;
  }
</style>


<!-- Scripts -->
<script src="//code.jquery.com/jquery-2.0.0.min.js"></script>
<script src="../components/underscore/underscore-min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js"></script>
<script src="../components/angular-ui/build/angular-ui.min.js"></script>

<script src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

<script src="../js/business-directory/app.js"></script>
<script src="../js/business-directory/config.js"></script>
<script src="../js/business-directory/services.js"></script>
<script src="../js/business-directory/filters.js"></script>
<script src="../js/business-directory/directives.js"></script>
<script src="../js/business-directory/controllers/TestCalendar.js"></script>

</body>
</html>